apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: {{ .Values.NP_DISK_API_K8S_STORAGE_CLASS_NAME }}
{{- if eq .Values.NP_DISK_PROVIDER "aws" }}
provisioner: kubernetes.io/aws-ebs
{{- end}}
{{- if eq .Values.NP_DISK_PROVIDER "gcp" }}
provisioner: kubernetes.io/gce-pd
{{- end}}
{{- if eq .Values.NP_DISK_PROVIDER "azure" }}
provisioner: kubernetes.io/azure-disk
{{- end}}
{{- if eq .Values.NP_DISK_PROVIDER "openebs" }}
  annotations:
    openebs.io/cas-type: jiva
    cas.openebs.io/config: |
      - name: StoragePoolClaim
        value: default
      - name: ReplicaCount
        value: "1"
provisioner: openebs.io/provisioner-iscsi
{{- end}}
volumeBindingMode: WaitForFirstConsumer
